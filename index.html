
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>OnboardFlow API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="https://s3.amazonaws.com/onboardflow-production/static/img/onboardflow-logo.png" class="logo" alt="Onboardflow logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#rate-limits" class="toc-h2 toc-link" data-title="Rate Limits">Rate Limits</a>
                  </li>
                  <li>
                    <a href="#error-codes" class="toc-h2 toc-link" data-title="Error Codes">Error Codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#customers" class="toc-h1 toc-link" data-title="Customers">Customers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#creating-a-customer" class="toc-h2 toc-link" data-title="Creating a Customer">Creating a Customer</a>
                  </li>
                  <li>
                    <a href="#updating-a-customer" class="toc-h2 toc-link" data-title="Updating a Customer">Updating a Customer</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscriptions" class="toc-h1 toc-link" data-title="Subscriptions">Subscriptions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#creating-a-subscription" class="toc-h2 toc-link" data-title="Creating a Subscription">Creating a Subscription</a>
                  </li>
                  <li>
                    <a href="#updating-a-subscription" class="toc-h2 toc-link" data-title="Updating a Subscription">Updating a Subscription</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#events" class="toc-h1 toc-link" data-title="Events">Events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#logging-a-ux-event" class="toc-h2 toc-link" data-title="Logging a UX Event">Logging a UX Event</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://onboardflow.com'>&copy; onboardflow.com</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the <a href="https://onboardflow.com">OnboardFlow</a> API.</p>

<p>We have language examples in Shell (with other platform examples coming soon)! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='getting-started'>Getting Started</h1><h2 id='authentication'>Authentication</h2>
<p>OnboardFlow uses API Keys to allow access to the API. You can find your API Key on the <a href="https://onboardflow.com/quick-launch/?path=/settings/api/">API Settings</a> page, when logged into your OnboardFlow account.</p>

<p>The API Key needs to be included in ALL API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: Bearer e3c0c748fe9b55386eecc07c339ec4099a8b9b0e</code></p>

<aside class="notice">
Remember to replace <code>e3c0c748fe9b55386eecc07c339ec4099a8b9b0e</code> with your own API Key!
</aside>
<h2 id='rate-limits'>Rate Limits</h2>
<p>API calls are rate limited to ensure that we are able to provide a consistent quality of service and availability to all of our users. The limits on total calls are illustrated below:</p>

<ul>
<li><strong>Free Plan</strong> - 50 API calls/day</li>
<li><strong>Launch Plan</strong> - 1,000 API calls/day</li>
<li><strong>Growth Plan</strong> - 5,000 API calls/day</li>
<li><strong>Expansion Plan</strong> - 10,000 API calls/day</li>
</ul>

<aside class="notice">
Please note that we reserve the right to revoke API access if we believe it is being used irresponsibly.
</aside>
<h2 id='error-codes'>Error Codes</h2>
<p>The OnboardFlow API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified record or endpoint could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an endpoint with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many records! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>
<h1 id='customers'>Customers</h1><h2 id='creating-a-customer'>Creating a Customer</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.onboardflow.com/api/v1/customer/"</span>
  -X POST
  -d <span class="s1">'{"site_key":"f37F2PPh","event_date":1583020800,"user_id":"user_123XYZ","customer_id":"cus_123XYZ","customer_first_name":"Joe","customer_has_payment_method":true,"customer_email":"test@onboardflow.com"}'</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Authorization: Bearer e3c0c748fe9b55386eecc07c339ec4099a8b9b0e"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">979924</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"site_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"site_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh-1585922303"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1923c497cf0fc93ff63414795ec58c59d4ccab38"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROVIDER_EVENT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_123XYZ"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@onboardflow.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_123XYZ"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"has_payment_method"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER_CREATED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585918703000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585918703000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This method should be called when a new customer is created (typically at the point at which they start a trial).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://gateway.onboardflow.com/api/v1/customer/</code></p>
<h3 id='data-parameters'>Data Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>site_key</td>
<td>The unique site key of the OnboardFlow site</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>event_date</td>
<td>The date the customer was created</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>user_id</td>
<td>The unique ID of the user this customer record belongs to (typically this will be the ID of your internal user record)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_id</td>
<td>The unique ID of the customer being created (if you use a Payment Platform like Stripe this <strong>must</strong> be the exact same customer ID stored there)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_email</td>
<td>The email address of the customer being created</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_first_name</td>
<td>The first name of the customer being created</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>customer_last_name</td>
<td>The last name of the customer being created</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>customer_image_url</td>
<td>The absolute URL of the customers profile image (if applicable)</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>customer_has_payment_method</td>
<td>A boolean indicating whether this customer has attached a payment method or not</td>
<td>Boolean</td>
<td>Yes</td>
</tr>
</tbody></table>
<h2 id='updating-a-customer'>Updating a Customer</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.onboardflow.com/api/v1/customer/"</span>
  -X PUT
  -d <span class="s1">'{"site_key":"f37F2PPh","event_date":1583020800,"user_id":"user_123XYZ","customer_id":"cus_123XYZ","customer_first_name":"Joe","customer_has_payment_method":true,"customer_email":"test@onboardflow.com"}'</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Authorization: Bearer e3c0c748fe9b55386eecc07c339ec4099a8b9b0e"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">979924</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"site_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"site_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh-1585922303"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1923c497cf0fc93ff63414795ec58c59d4ccab38"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROVIDER_EVENT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_123XYZ"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@onboardflow.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_123XYZ"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"has_payment_method"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUSTOMER_UPDATED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585918703000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585918703000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This method should be called when a customer has updated their details (such as their name, email address, profile picture URL or when they&#39;ve added a payment method).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>PUT https://gateway.onboardflow.com/api/v1/customer/</code></p>
<h3 id='data-parameters-2'>Data Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>site_key</td>
<td>The unique site key of the OnboardFlow site</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>event_date</td>
<td>The date the customer was updated</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>user_id</td>
<td>The unique ID of the user this customer record belongs to (typically this will be the ID of your internal user record)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_id</td>
<td>The unique ID of the customer being updated (if you use a Payment Platform like Stripe this <strong>must</strong> be the exact same customer ID stored there)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_email</td>
<td>The email address of the customer being updated</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_first_name</td>
<td>The first name of the customer being updated</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>customer_last_name</td>
<td>The last name of the customer being updated</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>customer_image_url</td>
<td>The absolute URL of the customers profile image (if applicable)</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>customer_has_payment_method</td>
<td>A boolean indicating whether this customer has attached a payment method or not</td>
<td>Boolean</td>
<td>Yes</td>
</tr>
</tbody></table>
<h1 id='subscriptions'>Subscriptions</h1><h2 id='creating-a-subscription'>Creating a Subscription</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.onboardflow.com/api/v1/subscription/"</span>
  -X POST
  -d <span class="s1">'{"site_key":"f37F2PPh","event_date":1583020800,"subscription_name":"Pro","customer_id":"cus_123XYZ","subscription_id":"sub_123XYZ","subscription_value":49.99,"subscription_started_at":1583020800,"subscription_trial_start":1583020800,"subscription_trial_end":1583020800,"subscription_currency":"USD","subscription_status":"active","subscription_interval":"MONTH"}'</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Authorization: Bearer e3c0c748fe9b55386eecc07c339ec4099a8b9b0e"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">979925</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"site_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh-1585922793"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ec049ab69e84b58d7466816a791a6fd0fe36fa9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROVIDER_EVENT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_123XYZ"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_123XYZ"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">49.99</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTH"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trial_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trial_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIPTION_CREATED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585919193000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"site_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585919193000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This method should be called when a customer starts a new subscription (typically at the point at which they start a trial).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://gateway.onboardflow.com/api/v1/subscription/</code></p>
<h3 id='data-parameters'>Data Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>site_key</td>
<td>The unique site key of the OnboardFlow site</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>event_date</td>
<td>The date the subscription was created</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_id</td>
<td>The unique ID of the customer this subscription is linked to (if you use a Payment Platform like Stripe this <strong>must</strong> be the exact same customer ID stored there)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_id</td>
<td>The unique ID of the subscription (if you use a Payment Platform like Stripe this <strong>must</strong> be the exact same subscription ID stored there)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_name</td>
<td>The name of the subscription (usually this is the name of the plan, such as &quot;Pro&quot;)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_status</td>
<td>The status of the subscription (possible values are <strong>trialing</strong>, <strong>active</strong> and <strong>cancelled</strong>).</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_interval</td>
<td>What is the renewal cycle of this subscription? Possible values are <strong>DAY</strong>, <strong>WEEK</strong>, <strong>MONTH</strong> and <strong>YEAR</strong></td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_value</td>
<td>The value of the subscription (this must take into account any discounts applied - if applicable)</td>
<td>Decimal</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_currency</td>
<td>The currency is this subscription charged in? This must be a valid <a href="https://en.wikipedia.org/wiki/ISO_4217">3 character ISO 4217 code</a></td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_started_at</td>
<td>The date and time that the subscription was created</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_trial_start</td>
<td>The date and time that the trial started (or is due to start)</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_trial_end</td>
<td>The date and time that the trial ended (or is due to end)</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
</tbody></table>
<h2 id='updating-a-subscription'>Updating a Subscription</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.onboardflow.com/api/v1/subscription/"</span>
  -X PUT
  -d <span class="s1">'{"site_key":"f37F2PPh","event_date":1583020800,"subscription_name":"Pro","customer_id":"cus_123XYZ","subscription_id":"sub_123XYZ","subscription_value":49.99,"subscription_started_at":1583020800,"subscription_trial_start":1583020800,"subscription_trial_end":1583020800,"subscription_currency":"USD","subscription_status":"active","subscription_interval":"MONTH"}'</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Authorization: Bearer e3c0c748fe9b55386eecc07c339ec4099a8b9b0e"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">979925</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"site_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh-1585922793"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ec049ab69e84b58d7466816a791a6fd0fe36fa9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROVIDER_EVENT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_123XYZ"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"subscription"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sub_123XYZ"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pro"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">49.99</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTH"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trial_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"trial_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIPTION_UPDATED"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1583020800</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585919193000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"site_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585919193000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This method should be called when a customer&#39;s subscription has changed (for example, this could be when its status changes or if they switch to another plan).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>PUT https://gateway.onboardflow.com/api/v1/subscription/</code></p>
<h3 id='data-parameters-2'>Data Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>site_key</td>
<td>The unique site key of the OnboardFlow site</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>event_date</td>
<td>The date the subscription was updated</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>customer_id</td>
<td>The unique ID of the customer this subscription is linked to (if you use a Payment Platform like Stripe this <strong>must</strong> be the exact same customer ID stored there)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_id</td>
<td>The unique ID of the subscription (if you use a Payment Platform like Stripe this <strong>must</strong> be the exact same subscription ID stored there)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_name</td>
<td>The name of the subscription (usually this is the name of the plan, such as &quot;Pro&quot;)</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_status</td>
<td>The status of the subscription (possible values are <strong>trialing</strong>, <strong>active</strong> and <strong>cancelled</strong>).</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_interval</td>
<td>What is the renewal cycle of this subscription? Possible values are <strong>DAY</strong>, <strong>WEEK</strong>, <strong>MONTH</strong> and <strong>YEAR</strong></td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_value</td>
<td>The value of the subscription (this must take into account any discounts applied - if applicable)</td>
<td>Decimal</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_currency</td>
<td>The currency is this subscription charged in? This must be a valid <a href="https://en.wikipedia.org/wiki/ISO_4217">3 character ISO 4217 code</a></td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_started_at</td>
<td>The date and time that the subscription was created</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_trial_start</td>
<td>The date and time that the trial started (or is due to start)</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>subscription_trial_end</td>
<td>The date and time that the trial ended (or is due to end)</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
</tbody></table>
<h1 id='events'>Events</h1><h2 id='logging-a-ux-event'>Logging a UX Event</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.onboardflow.com/api/v1/tracker/event/"</span>
  -X POST
  -d <span class="s1">'{"s":"f37F2PPh","site_user":{"id":"user_123XYZ","customer_id":"cus_123XYZ","custom_properties":{"projects_created":7}},"event":"PAGE_VIEW","value":"/manage/settings/","meta":{"title":"App Settings Page"}}'</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Authorization: Bearer e3c0c748fe9b55386eecc07c339ec4099a8b9b0e"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"event_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585920768000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JSTRACKER"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/manage/settings/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">979927</span><span class="p">,</span><span class="w">
        </span><span class="s2">"site_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f37F2PPh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PAGE_VIEW"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"event_meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"App Settings Page"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"site_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_123XYZ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cus_123XYZ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"custom_properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"projects_created"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585920768000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1585920768000</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Once installed, our <a href="https://onboardflow.com/quick-launch/?path=/settings/tracker/install/">JavaScript Tracker</a> will automatically log page views as well as any custom UX events you&#39;ve setup. However, sometimes it can be useful to log custom UX events via a simple API call. It might also be required to post UX events via the API if you are unable to install the JavaScript Tracker on your app (i.e. if you run a Mobile or Desktop app, rather than a Web app).</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://gateway.onboardflow.com/api/v1/tracker/event/</code></p>
<h3 id='data-parameters'>Data Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>s</td>
<td>The unique site key of the OnboardFlow site</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>event</td>
<td>The type of UX event you are logging. Possible options are <strong>PAGE_VIEW</strong>, <strong>CLICK</strong> or <strong>CUSTOM</strong></td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>event_date</td>
<td>The date the UX event took place</td>
<td>DateTime (Unix Timestamp)</td>
<td>Yes</td>
</tr>
<tr>
<td>session_id</td>
<td>A unique ID representing the session ID for that user. I.e. you might want to create a new ID each logged in session the user undertakes.</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>site_user</td>
<td>A dictionary containing details of the user that should be linked to this UX event. At a minimum this should contain an id and customer_id (i.e. {&quot;id&quot;: &quot;user_123XYZ&quot;, &quot;customer_id&quot;:&quot;cus_123XYZ&quot;}). <a href="https://help.onboardflow.com/article/10-identify-your-user">Read more about setting User and Customer ID&#39;s here</a>.</td>
<td>Dictionary</td>
<td>Yes</td>
</tr>
<tr>
<td>value</td>
<td>If this is a page view event, this should be the URL of the page being viewed. If it&#39;s a click it could be the ID of the element or video being watched. No matter what the event is being logged here, this should basically be a value that helps us group similar events in the future (i.e. the URL of the page, ID of the video being watched, class or ID of the button being clicked etc).</td>
<td>String</td>
<td>Yes</td>
</tr>
<tr>
<td>meta</td>
<td>If logging a page view or perhaps a video view, then you can set additional properties here about the event. I.e. setting the title would be achieved by setting this to {&quot;title&quot;:&quot;App Settings Page&quot;}. Please note that currently, only &#39;title&#39; is officially supported.</td>
<td>Dictionary</td>
<td>Yes</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
